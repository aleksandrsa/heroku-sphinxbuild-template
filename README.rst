==============================================
Building and Hosting sphinx document on Heroku
==============================================

This is a heroku template and buildpack for building/hosting sphinx document.

Deploy it
==========

.. image:: https://www.herokucdn.com/deploy/button.svg
   :target: https://heroku.com/deploy
   :alt: Deploy

Features
========

* Building your sphinx document on git repository some where.
* Serving HTML files that is generated by sphinx-build.
* Serving HTML files with BASIC authentication for readers if you want.
* Install 3rd-party python packages / sphinx extensions (You need requirements.txt at top of the source directory.)

Limitations
-----------

* Buliding document at once on `Heroku building stage`_.

ToDo
-----

* pull & build document every hour/day
* pull & build document by WebHook

How it works
============

This Heroku template will do:

1. Create Heroku app instance on your account.
2. Clone your Sphinx documentation from git URL you specified.
3. Build Sphinx documentation on `Heroku building stage`_.

.. _Heroku building stage: https://devcenter.heroku.com/articles/how-heroku-works#building-applications


Frequently Asked Questions
==========================

* Can I use Private git repository?

  * Yes. You can use custom URL to pull source from private repository.

  * On GitHub:
    ``https://<token>@github.com/<user>/<reponame>.git``.
    See also:
    https://help.github.com/articles/git-automation-with-oauth-tokens/

  * On GitLab:
    ``https://gitlab-ci-token:<token>@gitlab.com/<user>/<reponame>.git``.
    See also:
    https://docs.gitlab.com/ee/user/project/new_ci_build_permissions_model.html#before-gitlab-8-12

  * On Bitbudket:
    ``https://x-token-auth:<token>@bitbucket.org/<user>/<reponame>.git``.
    See also:
    https://confluence.atlassian.com/bitbucket/oauth-on-bitbucket-cloud-238027431.html#OAuthonBitbucketCloud-Cloningarepositorywithanaccesstoken


* Can I protect generated pages with BASIC auth?

  * Yes. Please set ``BASIC_AUTH`` parameter when deploying this heroku app.
    Or set ``BASIC_AUTH`` environment variable on heroku config page..


